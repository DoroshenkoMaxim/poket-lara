# üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–∞–ª—é—Ç –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º—É —Å–∏–≥–Ω–∞–ª–æ–≤

## ‚úÖ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–°–∏—Å—Ç–µ–º–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ —Ç–µ–ø–µ—Ä—å **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞–ª—é—Ç—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** –≤–º–µ—Å—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–ø–∏—Å–∫–∞ –≤ –∫–æ–¥–µ.

### üìã –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:

#### 1. **SignalsController** (`app/Http/Controllers/SignalsController.php`)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `getActiveCurrencies()` - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤–∞–ª—é—Ç—ã –∏–∑ –ë–î
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `getFallbackCurrencies()` - —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Å–ø–∏—Å–æ–∫ –µ—Å–ª–∏ –ë–î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
- ‚úÖ –ù–æ–≤—ã–π API endpoint `/api/signals/currencies` - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤–∞–ª—é—Ç
- ‚úÖ –ü–µ—Ä–µ–¥–∞—á–∞ –≤–∞–ª—é—Ç –≤ view —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `$currencies`
- ‚úÖ –ó–∞–º–µ–Ω–∞ –≤—Å–µ—Ö —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ

#### 2. **JavaScript** (`resources/views/signals/index.blade.php`)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∞–ª—é—Ç –∏–∑ PHP –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç —á–µ—Ä–µ–∑ API
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –≤–∞–ª—é—Ç –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–∏—Å–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

#### 3. **–ù–æ–≤—ã–µ API endpoints**
- ‚úÖ `GET /api/signals/currencies` - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∞–ª—é—Ç

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤–∞–ª—é—Ç:**
1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –∞–∫—Ç–∏–≤–Ω—ã–µ –≤–∞–ª—é—Ç—ã –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `currencies`
2. **–†–µ–∑–µ—Ä–≤–Ω—ã–π —Å–ø–∏—Å–æ–∫** - –µ—Å–ª–∏ –ë–î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –∏–ª–∏ –ø—É—Å—Ç–∞

### 2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–∞–ª—é—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ PHP
- JavaScript –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –≤–∞–ª—é—Ç—ã —á–µ—Ä–µ–∑ API
- –ö–Ω–æ–ø–∫–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### 3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ `currencies` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Å–ø–∏—Å–æ–∫
- –ï—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∏–∑ PHP
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ `storage/logs/laravel.log`

---

## üìä API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤–∞–ª—é—Ç

### Endpoint: `GET /api/signals/currencies`

**–ó–∞–ø—Ä–æ—Å:**
```javascript
fetch('/api/signals/currencies')
    .then(response => response.json())
    .then(data => console.log(data));
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "success": true,
    "currencies": [
        "EUR/USD",
        "GBP/USD",
        "AUD/CAD",
        "..."
    ],
    "count": 67,
    "source": "database",
    "last_updated": "2025-01-02T10:30:00.000000Z"
}
```

---

## üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ö–æ–≥–¥–∞ –≤–∞–ª—é—Ç—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è:
1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:00 (–ø–∞—Ä—Å–∏–Ω–≥ PocketOption)
2. **–í—Ä—É—á–Ω—É—é** - —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `/currencies`
3. **API** - `POST /currencies/update-from-pocket-option`

### –ö–∞–∫ –≤–∞–ª—é—Ç—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Å–∏–≥–Ω–∞–ª—ã:
1. –ü–∞—Ä—Å–∏–Ω–≥ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É `currencies`
2. SignalsController —á–∏—Ç–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ –≤–∞–ª—é—Ç—ã
3. JavaScript –ø–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –≤–∞–ª—é—Ç—ã

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `currencies`:
```sql
id          - ID –∑–∞–ø–∏—Å–∏
symbol      - –°–∏–º–≤–æ–ª (EUR_USD)  
label       - –ù–∞–∑–≤–∞–Ω–∏–µ (EUR/USD OTC)
payout      - –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–ª–∞—Ç—ã (92)
is_active   - –ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ (true/false)
is_otc      - OTC –≤–∞–ª—é—Ç–∞ (true/false)
flags       - JSON —Ñ–ª–∞–≥–æ–≤ —Å—Ç—Ä–∞–Ω
last_updated - –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ SignalsController:
```php
// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–∞–ª—é—Ç
$currencies = Currency::active()
    ->orderBy('label')
    ->pluck('label')
    ->map(fn($label) => str_replace(' OTC', '', $label))
    ->unique()
    ->values()
    ->toArray();
```

---

## üéÆ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

### –ß—Ç–æ –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
1. **–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** ‚Üí –≤–∞–ª—é—Ç—ã —É–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã
2. **–ö–ª–∏–∫ "–í—ã–±—Ä–∞—Ç—å –≤–∞–ª—é—Ç—É"** ‚Üí –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑ –ë–î
3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–∞** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞–ª—é—Ç—ã –∏–∑ –ë–î
4. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ —Ä–µ–∞–ª—å–Ω—ã–º –≤–∞–ª—é—Ç–∞–º

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ **–í—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –∏–∑ PocketOption
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- ‚úÖ **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** - —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ PHP –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª—é—Ç—ã –≤ –±–∞–∑–µ
php artisan tinker
>>> App\Models\Currency::active()->count()

# –û–±–Ω–æ–≤–∏—Ç—å –≤–∞–ª—é—Ç—ã
php artisan currencies:update

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API
curl http://your-domain.com/api/signals/currencies
```

### –õ–æ–≥–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
- **–û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∞–ª—é—Ç**: `storage/logs/laravel.log`
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞**: –ª–æ–≥ —Å —É—Ä–æ–≤–Ω–µ–º WARNING

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç–∞–º–∏**: `/currencies`
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∞–ª—é—Ç**: `/currencies/stats`
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: `/test-currencies`

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### 1. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**
–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –µ—Å–ª–∏:
- –¢–∞–±–ª–∏—Ü–∞ `currencies` –Ω–µ —Å–æ–∑–¥–∞–Ω–∞
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
- API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

### 2. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**
- –£–±–∏—Ä–∞–µ—Ç—Å—è " OTC" –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –≤–∞–ª—é—Ç–Ω—ã—Ö –ø–∞—Ä
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É

### 3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
- PHP –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤–∞–ª—é—Ç—ã –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ
- JavaScript –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ API
- –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î

---

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ —Å–∏–≥–Ω–∞–ª–æ–≤:
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –≤–∞–ª—é—Ç—ã** –∏–∑ –ø–∞—Ä—Å–∏–Ω–≥–∞ PocketOption
- **–û–±–Ω–æ–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞  
- **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- **–†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ** –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

**–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –≤–∞–ª—é—Ç –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω!** üéâ 